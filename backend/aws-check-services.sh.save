#!/bin/bash
# AWS Services Health Check Script
# Run with: bash aws-check-services.sh

REGION="ap-southeast-1"

echo "========================================="
echo " 🔑 AWS Identity"
echo "========================================="
aws sts get-caller-identity || echo "❌ Unable to get identity"

echo
echo "========================================="
echo " 📂 S3 Buckets"
echo "========================================="
aws s3 ls || echo "❌ No buckets or no permissions"

echo
echo "========================================="
echo " 📦 DynamoDB Tables in $REGION"
echo "========================================="
aws dynamodb list-tables --region $REGION || echo "❌ No tables or no permissions"

echo
echo "========================================="
echo " 🔎 OpenSearch Serverless Collections"
echo "========================================="
aws opensearchserverless list-collections --region $REGION || echo "❌ No collections or no permissions"

echo
echo "========================================="
echo " 🔐 OpenSearch Serverless Access Policies"
echo "========================================="
aws opensearchserverless list-access-policies --type data --region $REGION || echo "❌ No policies or no permissions"

echo
echo "========================================="
echo " 🤖 Bedrock Foundation Models in $REGION"
echo "========================================="
aws bedrock list-foundation-models --region $REGION || echo "❌ No Bedrock access in this region"

echo
echo "========================================="
echo " 🛡 IAM Roles"
echo "========================================="
aws iam list-roles --max-items 5 || echo "❌ No roles or no permissions"

echo
echo "========================================="
echo " 📝 IAM Customer Managed Policies"
echo "========================================="
aws iam list-policies --scope Local --max-items 5 || echo "❌ No local policies or no permissions"

echo
echo "✅ AWS Check Complete!"

