#!/bin/bash
# AWS Services Health Check Script
# Run with: bash aws-check-services.sh

REGION="ap-southeast-1"

echo "========================================="
echo " ğŸ”‘ AWS Identity"
echo "========================================="
aws sts get-caller-identity || echo "âŒ Unable to get identity"

echo
echo "========================================="
echo " ğŸ“‚ S3 Buckets"
echo "========================================="
aws s3 ls || echo "âŒ No buckets or no permissions"

echo
echo "========================================="
echo " ğŸ“¦ DynamoDB Tables in $REGION"
echo "========================================="
aws dynamodb list-tables --region $REGION || echo "âŒ No tables or no permissions"

echo
echo "========================================="
echo " ğŸ” OpenSearch Serverless Collections"
echo "========================================="
aws opensearchserverless list-collections --region $REGION || echo "âŒ No collections or no permissions"

echo
echo "========================================="
echo " ğŸ” OpenSearch Serverless Access Policies"
echo "========================================="
aws opensearchserverless list-access-policies --type data --region $REGION || echo "âŒ No policies or no permissions"

echo
echo "========================================="
echo " ğŸ¤– Bedrock Foundation Models in $REGION"
echo "========================================="
aws bedrock list-foundation-models --region $REGION || echo "âŒ No Bedrock access in this region"

echo
echo "========================================="
echo " ğŸ›¡ IAM Roles"
echo "========================================="
aws iam list-roles --max-items 5 || echo "âŒ No roles or no permissions"

echo
echo "========================================="
echo " ğŸ“ IAM Customer Managed Policies"
echo "========================================="
aws iam list-policies --scope Local --max-items 5 || echo "âŒ No local policies or no permissions"

echo
echo "âœ… AWS Check Complete!"

